# ⚡ 快速开始指南

5 分钟内部署你的文件码管理系统！

## 🎯 最简部署流程

### 第 1 步：获取密码哈希（1 分钟）

访问这个网站生成密码哈希：
👉 https://emn178.github.io/online-tools/sha256.html

1. 输入你想要的密码（例如：`MySecurePass123`）
2. 复制生成的哈希值（一长串字母和数字）
3. 保存好这个哈希值

> 💡 **提示**：如果暂时想用默认密码 `admin123`，哈希值是：
> ```
> 240be518fabd2724ddb6f04eeb1da5967448d7e831c08c8fa822809f74c720a9
> ```

---

### 第 2 步：创建 KV 命名空间（1 分钟）

1. 访问 https://dash.cloudflare.com/ 并登录
2. 左侧菜单点击 **Workers & Pages**
3. 点击顶部 **KV** 标签
4. 点击 **Create a namespace** 按钮
5. 输入名称：`FILE_CODES_KV`
6. 点击 **Add**
7. ✅ 完成！记住这个命名空间，后面要用

---

### 第 3 步：上传项目（2 分钟）

#### 方式 A：直接上传（最简单）

1. 在 **Workers & Pages** 页面
2. 点击 **Create application**
3. 选择 **Pages** → **Upload assets**
4. 项目名称填：`file-code-manager`
5. 把整个项目文件夹拖进去（包含 index.html、functions 文件夹等）
6. 点击 **Deploy site**
7. ✅ 等待部署完成（约 30 秒）

#### 方式 B：使用 GitHub（推荐长期使用）

1. 把项目上传到你的 GitHub
2. 在 **Workers & Pages** 点击 **Create application**
3. 选择 **Pages** → **Connect to Git**
4. 授权并选择你的仓库
5. **Build output directory** 填：`/`
6. 点击 **Save and Deploy**
7. ✅ 等待部署完成

---

### 第 4 步：配置绑定和变量（1 分钟）

部署完成后：

1. 进入项目，点击 **Settings** 标签

2. **绑定 KV**：
   - 左侧选择 **Functions**
   - 找到 **KV namespace bindings**
   - 点击 **Add binding**
   - Variable name: `FILE_CODES_KV`
   - KV namespace: 选择你在第 2 步创建的命名空间
   - 点击 **Save**

3. **设置密码**：
   - 左侧选择 **Environment variables**
   - 点击 **Add variables**
   - Variable name: `PASSWORD_HASH`
   - Value: 粘贴第 1 步的哈希值
   - 勾选 **Production** 和 **Preview**
   - 点击 **Save**

---

### 第 5 步：重新部署（30 秒）

配置完成后需要重新部署：

1. 点击 **Deployments** 标签
2. 找到最新的部署记录
3. 点击右侧 **...** 菜单
4. 选择 **Retry deployment**
5. ✅ 等待部署完成

---

### 第 6 步：开始使用！🎉

1. 部署完成后会显示 URL（如：`https://file-code-manager.pages.dev`）
2. 点击 URL 打开网站
3. 输入你在第 1 步设置的密码
4. 登录成功！开始管理你的文件码吧！

---

## 📝 基本使用

### 解析文本添加文件码

1. 复制包含文件码的文本，例如：
   ```
   @filepan_bot:abc123 重要文件
   showfilesbot_xyz789 备份资料
   pk_、p_、d_开头老代码
   ```

2. 粘贴到"粘贴文本进行解析"框中
3. 点击"解析并添加"
4. ✅ 每行内容作为一个完整的文件码添加！

### 手动添加

1. 在"手动添加文件码"区域
2. 输入文件码内容（支持多行）
3. 点击"添加"

### 管理操作

- **编辑**：点击编辑按钮修改备注
- **复制**：点击复制按钮一键复制完整内容
- **删除**：点击删除按钮移除（需确认）
- **批量合并**：选择多个项目后点击"批量合并"
- **搜索**：顶部搜索框输入关键词过滤
- **导出**：右上角导出按钮下载 JSON 备份

---

## ⚠️ 常见问题

### ❌ 提示 "KV namespace not bound"
**原因**：KV 命名空间没有正确绑定

**解决**：
1. 确认第 4 步的 KV 绑定完成
2. 确认 Variable name 是 `FILE_CODES_KV`（大小写要对）
3. 重新部署（第 5 步）

---

### ❌ 密码正确但登录失败
**原因**：环境变量没有生效

**解决**：
1. 确认第 4 步设置了 PASSWORD_HASH
2. 确认勾选了 Production 环境
3. 重新部署（第 5 步）

---

### ❌ 登录后立即跳出
**原因**：浏览器不支持 sessionStorage 或被禁用

**解决**：
1. 检查浏览器隐私模式设置
2. 尝试其他浏览器
3. 关闭广告拦截器

---

### ❌ 数据保存失败
**原因**：网络问题或 KV 配额用完

**解决**：
1. 检查网络连接
2. 查看 Dashboard → KV 查看使用情况
3. Cloudflare 免费版有 KV 限制（足够个人使用）

---

## 🔒 安全提示

- ✅ 不要使用简单密码
- ✅ 不要分享你的部署 URL
- ✅ 定期导出数据备份
- ✅ 部署后立即更改默认密码

---

## 📱 移动端使用

网站完全支持手机访问！直接用手机浏览器打开部署 URL 即可。

---

## 🎨 界面预览

登录后你会看到：
- 📊 顶部统计卡片（总数、当前显示）
- 📝 文本解析区域
- ➕ 手动添加区域
- 🔍 搜索框
- 📋 文件码列表（每行可编辑、复制、删除）

---

## 🆘 需要帮助？

- 📖 详细部署指南：查看 `DEPLOYMENT.md`
- 📚 完整文档：查看 `README.md`
- 🐛 遇到问题：检查浏览器控制台（F12）

---

## 🎉 恭喜！

你已经成功部署了文件码管理系统！

现在可以：
- 📥 导入你的文件码
- 🏷️ 添加标签和备注
- 🔍 快速搜索和管理
- 📤 随时导出备份

**享受高效的文件码管理体验！** ✨

